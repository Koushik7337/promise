<div id="secret" style="display:none; position:relative; overflow:hidden;">
  <h2>ğŸ’– My Promise to You ğŸ’–</h2>
  <div id="letter" style="font-size:1.2em; line-height:1.6; white-space:pre-wrap;"></div>

  <!-- Romantic photo collage -->
  <div id="photos" style="margin-top:30px; display:flex; flex-direction:column; align-items:center;"></div>

  <!-- Glowing finale text -->
  <div id="finale" style="display:none; margin-top:40px; font-size:2em; font-weight:bold; color:#b30059; text-shadow:0 0 10px #ff99cc, 0 0 20px #ff66b2;">
    ğŸ’ I love you forever ğŸ’
  </div>

  <!-- Floating hearts container -->
  <div id="hearts"></div>
</div>

<style>
  /* Floating hearts style */
  #hearts {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }
  .heart {
    position: absolute;
    color: #ff3366;
    font-size: 24px;
    animation: floatUp 6s linear infinite;
    opacity: 0.8;
  }
  @keyframes floatUp {
    0% { transform: translateY(100vh) scale(0.8); opacity: 0.8; }
    50% { opacity: 1; }
    100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
  }
</style>

<script>
  function typeLetter(text, elementId, callback) {
    let i = 0;
    function typing() {
      if (i < text.length) {
        document.getElementById(elementId).textContent += text.charAt(i);
        i++;
        setTimeout(typing, 50); // typing speed
      } else {
        if (callback) callback();
      }
    }
    typing();
  }

  function revealLetter() {
    const message = `
I know sometimes you feel I donâ€™t give you first priorityâ€¦
But the truth is, you are not just my first priority â€” you are my only one.

You thought I was cheating, or hiding behind games, but that was never true.
I was never good at chatting until you came into my life.
I started learning it only for you, because before you, I never talked to anyone like this.
You changed me, ra bangaram.

I waited for your messages, your calls, and when you entered my life, it felt like a dream.
Every year, month, day, hour, minute, second â€” you are my soulmate, my wife, my everything.

I promise I will never leave you. I will fight until my last breath for you.
I will never cheat you. I just need your support, and I know you will stand beside me.
I will always respect your ideas, your words, your alochanalu.
If I am wrong, tell me. If I lie, punish me. Because listening to my wife is my duty.

Time keeps ticking, but I miss you every single day.
I promise I will never break my promise.
I will fight and fix everything with you.

Last but not leastâ€¦ I love you, nukaalu.

Yours forever,
Your soulmate â€” mi bava ğŸ’
    `;

    typeLetter(message, "letter", () => {
      revealPhotos();
    });
  }

  function revealPhotos() {
    const photoList = [
      "photo1.jpeg",
      "photo2.jpeg",
      "photo3.jpeg",
      "photo4.jpeg",
      "photo5.jpeg",
      "photo6.jpeg",
      "photo7.jpeg",
      "photo8.jpeg",
      "photo9.jpeg"
    ];

    const container = document.getElementById("photos");

    photoList.forEach((src, i) => {
      const img = document.createElement("img");
      img.src = src;
      img.alt = "Promise Photo";
      img.style.opacity = 0;
      img.style.transition = "opacity 1.5s ease-in";
      img.style.maxWidth = "350px";
      img.style.borderRadius = "15px";
      img.style.margin = "15px 0";
      img.style.boxShadow = "0 4px 10px rgba(0,0,0,0.3)";
      container.appendChild(img);

      setTimeout(() => {
        img.style.opacity = 1;
        // After last photo, show finale text + hearts
        if (i === photoList.length - 1) {
          setTimeout(() => {
            document.getElementById("finale").style.display = "block";
            startHearts();
          }, 3000);
        }
      }, i * 3000); // each photo fades in every 3 seconds
    });
  }

  function startHearts() {
    const heartsContainer = document.getElementById("hearts");
    setInterval(() => {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = "â¤ï¸";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = (20 + Math.random() * 20) + "px";
      heartsContainer.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 6000);
    }, 500); // new heart every 0.5s
  }
</script>
